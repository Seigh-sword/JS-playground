<!DOCTYPE html>
<html>
<head>
  <title>Seigh's JS Game Forge</title>
  <style>
    body {
      font-family: monospace;
      margin: 20px;
      transition: 0.3s;
    }

    #jsEditor {
      width: 100%;
      height: 300px;
      padding: 10px;
      border: 2px solid #000;
      resize: vertical;
      outline: none;
      border-radius: 10px;
      transition: 0.3s;
      font-family: monospace;
    }

    #gameContainer {
      margin-top: 20px;
      border: 2px solid #000;
      width: 100%;
      height: 300px;
      border-radius: 10px;
      transition: 0.3s;
      overflow: hidden;
    }

    select, button {
      margin-top: 10px;
      padding: 8px 12px;
      font-size: 14px;
      border-radius: 8px;
      border: 1px solid #000;
      transition: 0.3s;
    }
  </style>
</head>
<body>
  <h1>Seigh's JS Game Forge</h1>

  <label for="theme">Select Theme:</label>
  <select id="theme" onchange="changeTheme()">
    <option value="dark">Dark</option>
    <option value="light">Light</option>
    <option value="metrix">Metrix</option>
    <option value="nature">Nature</option>
    <option value="brick">Brick</option>
  </select>

  <br><br>
  <textarea id="jsEditor" placeholder="Type your JavaScript game code here..."></textarea><br>
  <button onclick="runGame()">Run</button>

  <div id="gameContainer"></div>

  <script>
    function changeTheme() {
      const theme = document.getElementById('theme').value;
      const editor = document.getElementById('jsEditor');
      const container = document.getElementById('gameContainer');
      const body = document.body;
      const button = document.querySelector('button');
      const select = document.querySelector('select');

      if (theme === 'dark') {
        editor.style.background = '#2b2b2b';
        editor.style.color = '#ffffff';
        container.style.background = '#1a1a1a';
        body.style.background = '#111';
        body.style.color = '#fff';
        button.style.background = '#333';
        button.style.color = '#fff';
        select.style.background = '#333';
        select.style.color = '#fff';
      } else if (theme === 'light') {
        editor.style.background = '#ffffff';
        editor.style.color = '#000000';
        container.style.background = '#f0f0f0';
        body.style.background = '#ffffff';
        body.style.color = '#000';
        button.style.background = '#ddd';
        button.style.color = '#000';
        select.style.background = '#ddd';
        select.style.color = '#000';
      } else if (theme === 'metrix') {
        editor.style.background = '#000000';
        editor.style.color = '#00ff00';
        container.style.background = '#001100';
        body.style.background = '#000';
        body.style.color = '#00ff00';
        button.style.background = '#002200';
        button.style.color = '#00ff00';
        select.style.background = '#002200';
        select.style.color = '#00ff00';
      } else if (theme === 'nature') {
        editor.style.background = '#d0f0c0';
        editor.style.color = '#003300';
        container.style.background = '#b4e197';
        body.style.background = '#eaffea';
        body.style.color = '#003300';
        button.style.background = '#b4e197';
        button.style.color = '#003300';
        select.style.background = '#b4e197';
        select.style.color = '#003300';
      } else if (theme === 'brick') {
        editor.style.background = '#b22222';
        editor.style.color = '#ffffff';
        container.style.background = '#ffdddd';
        body.style.background = '#ffe5e5';
        body.style.color = '#600000';
        button.style.background = '#c14444';
        button.style.color = '#fff';
        select.style.background = '#c14444';
        select.style.color = '#fff';
      }
    }

    function runGame() {
      const code = document.getElementById('jsEditor').value;
      const container = document.getElementById('gameContainer');

      container.innerHTML = ''; // Clear previous game

      const canvas = document.createElement('canvas');
      canvas.width = 400;
      canvas.height = 300;
      canvas.style.border = '1px solid black';
      container.appendChild(canvas);

      const ctx = canvas.getContext('2d');

      const sandbox = {
        canvas,
        ctx,
        width: canvas.width,
        height: canvas.height
      };

      const userCode = new Function('sandbox', `
        const { canvas, ctx, width, height } = sandbox;
        ${code}
      `);

      try {
        userCode(sandbox);
      } catch (err) {
        alert('Error: ' + err.message);
      }
    }

    // Set default theme
    changeTheme();
  </script>
</body>
</html>
